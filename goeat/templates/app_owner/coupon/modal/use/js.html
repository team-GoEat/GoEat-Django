<script type="module">
  import { inputPhoneNumber } from '/static/app_owner/base/js/utility.js';
  //휴대폰 번호 
  let couponPhoneNumber = "";
  let couponNumberPad = document.querySelector(".number_pad");
  let couponPhoneInput = document.querySelector('#coupon_phon');

  couponNumberPad.addEventListener('click', (e) => {
    if (!e.target.innerText) return onClickDelete();

    onClickNumber(e.target.innerText);
  })

  function onClickNumber(value) {
    console.log(couponPhoneNumber);
    if (couponPhoneNumber.length === 11) return;
    couponPhoneNumber = couponPhoneNumber.concat(value);
    couponPhoneInput.value = inputPhoneNumber(couponPhoneNumber);
  }

  function onClickDelete() {
    couponPhoneNumber = couponPhoneNumber.substr(0, couponPhoneNumber.length - 1);
    couponPhoneInput.value = inputPhoneNumber(couponPhoneNumber);
  }

  const selectBox = document.querySelector(".coupon_select_box");
  const selectInput = document.querySelector(".coupon_select_input");
  const options = document.querySelector(".select_option");
  const option = document.querySelectorAll(".select_option li");


  selectBox.addEventListener('click', () => {
    options.classList.toggle("on");
  })


  option.forEach(el => {
    el.addEventListener('click', e => {
      selectInput.value = e.target.textContent.trim();
      options.classList.remove("on");
    })
  })
</script>