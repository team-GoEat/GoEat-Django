{% load hosts %}
<script type="text/babel">

  function onClickCountUp(id) {
    $(`#count_${id}`).html(parseInt($(`#count_${id}`).html()) + 1);
  }

  function onClickCountDown(id) {
    $(`#count_${id}`).html(parseInt($(`#count_${id}`).html()) - 1);
  }

  function stamp_submit(id, status) {

    var params = {
      'csrfmiddlewaretoken': '{{ csrf_token }}',
      'type': 'submit',
      'id': id,
      'status': status,
      'count': $(`#count_${id}`).html()
    }

    $.ajax({
      url: "{% host_url 'stamp_apply' host 'owner' %}",
      type: "POST",
      data: params,
      success: function (result) {
        alert('적립이 완료되었습니다.');
        modalClose();
        init_list();
      },
      error: function (result) {
        alert("서버와의 연결이 끊어졌습니다.")
      }
    });

  }

</script>